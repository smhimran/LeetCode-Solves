This is how I made the program fastest. I did modulo operation only when necessary.